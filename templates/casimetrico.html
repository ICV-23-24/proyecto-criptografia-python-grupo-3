<!DOCTYPE html>
<html lang="en">
<style>
@import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');

body#bodyasi{
  background-image: url(https://media.istockphoto.com/id/1400779382/photo/network-security-background.webp?b=1&s=170667a&w=0&k=20&c=LdbvZLdObTWMYxkDBquy8WZBdGgnUB1i0ggVu7KSEUc=);
  background-repeat: no-repeat;
  background-size: cover;
}
body#bodyasi h1,h2,h3,label,input,p{
  color: white;
  font-family: 'Roboto', sans-serif;

}
input[type=submit]{
  color: black;
}
.simtittle{
    font-size: 30px;
}
</style>
<head>
    <meta charset="UTF-8">
    <title>Cifrador y Descifrador de archivos</title>
</head>

<body id="bodyasi">
    {% extends "layout.html" %}
    {% block content %}
    <marquee class="simtittle" scrollamount="22"><h1>CIFRADO ASIMETRICO</h1></marquee>

<form action="/generate-keys" method="POST">
    <input type="submit" value="Generar Claves">
</form>

<h1>Descargar Claves</h1>
<a href="/download-private-key"><button>Descargar Clave Privada</button></a>
<a href="/download-public-key"><button>Descargar Clave Pública</button></a>

<h1>Cifrar Archivo</h1>
<form action="/encrypt" method="POST" enctype="multipart/form-data">
    <input type="file" name="file" accept=".txt">
    <br>
    <input type="file" name="public_key" accept=".pem">
    
    <input type="submit" value="Cifrar Archivo">
</form>

<h1>Descifrar Archivo</h1>
<form action="/decrypt" method="POST" enctype="multipart/form-data">
    <input type="file" name="file_to_decrypt" accept=".bin">
    <br>
    <input type="file" name="private_key" accept=".pem">
    <input type="submit" value="Descifrar Archivo">
</form>

<hr>
 
   
    <h2>Subir Clave Pública</h2>
    <form action="/upload_public_key" method="post" enctype="multipart/form-data">
        <input type="file" name="public_key_file" accept=".pem">
        <button type="submit">Subir Clave Pública</button>
    </form>

    
    <h2>Listar Claves Públicas</h2>
    <form action="/listar_claves_publicas" method="post">
        {% for key in public_keys %}
            <label>
                <input type="radio" name="selected_keys" value="{{ key }}"> {{ key }}<br>
            </label>
        {% endfor %}
        <br>
        <button type="submit">Listar y descargar claves Seleccionadas</button>
    </form>
    
{% endblock %}
</body>
</html>
